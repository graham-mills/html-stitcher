# html-stitcher

`html-stitcher` is a simple CLI tool for combining HTML files. It allows for large HTML files to be decomposed into smaller, re-usable, components (referred to here as "partials").

Let's start with a simple example to show the basic principle:

We start with an input file for processing, named `index.html`:
```html
<!-- index.html -->
<html>
<body>
    <welcome></welcome>
</body>
</html>
```
The input file includes the `<welcome></welcome>` element. This tells `html-stitcher` to replace the element with the contents of `welcome.html`:

```html
<!-- welcome.html -->
<p>
    Hello world!
</p>
```
The output generated by `html-stitcher` is simply the combination of both files:

```html
<!-- output.html -->
<html>
<body>
    <p>
        Hello world!
    </p>
</body>
</html>
```

While this example is very simple for explanation purposes, the value of `html-stitcher` becomes much more apparent for larger and unwieldy HTML files.

## Features

### Parameter Substitution

Partial elements can be can be parameterised by adding additional attributes to the element's start tag:

```html
<!-- index.html -->
<h2>Largest Cities by Population</h2>
<ol>
    <!-- Each city has a `name`, `population` and `color` parameter -->
    <city name="Tokyo" population="37,468,000" color="red"></city>
    <city name="Delhi" population="28,514,000" color="blue"></city>
    <city name="Shanghai" population="25,582,000" color="green"></city>
</ol>
```

Parameters in the partial file are referenced by name using the `${var}` format:

```html
<!-- city.partial.html -->
<li>
    <b style="color: ${color}">${name}</b>
    <p>Population: ${population}</p>
</li>
```

During compilation, each `${parameter}` found in the partial's HTML is substituted with the value from the including element.
In this example, the first list item has `${name}` replaced with `Tokyo` and `${color}` replaced with `red`:

```html
<!-- output.html -->
<h2>Largest Cities by Population</h2>
<ol>
    <li>
        <b style="color: red">Tokyo</b>
        <p>Population: 37,468,000</p>
    </li>
    <li>
        <b style="color: blue">Delhi</b>
        <p>Population: 28,514,000</p>
    </li>
    <li>
        <b style="color: green">Shanghai</b>
        <p>Population: 25,582,000</p>
    </li>
</ol>
```

### Inner Substition

Inner substitution is a variant of parameter substitution, only the parameter value is the inner HTML of the partial element.

```html
<!-- index.html -->
<div>
    <card>The quick brown fox jumps over the lazy dog</card>
    <card>The five boxing wizards jump quickly</card>
    <card>How vexingly quick daft zebras jump</card>
</div>
```

The inner HTML is referenced with `${inner}`:

```html
<!-- card.partial.html -->
<div>
    <p>${inner}</p>
</div>
```

As with parameter substitution, any reference to `${inner}` is replaced with the content of the including element:

```html
<div>
    <div>
        <p>The quick brown fox jumps over the lazy dog</p>
    </div>
    <div>
        <p>The five boxing wizards jump quickly</p>
    </div>
    <div>
        <p>How vexingly quick daft zebras jump</p>
    </div>
</div>
```

## NPM Release Roadmap

[x] Compile single files with parameter and inner substition
[ ] Process directories of files
[ ] Document usage
[ ] Battle-test

